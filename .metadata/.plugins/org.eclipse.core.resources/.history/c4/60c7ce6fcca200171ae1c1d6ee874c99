package nhnent;
import java.awt.print.Printable;
import java.lang.reflect.Array;
import java.util.*;

public class four {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		//원래는 5번째 문제이지만,..
		//섬탈출 문제
		//우선순위(성별, 나이, 조건)
		//사람수
		//사람 별 특징
		Scanner sc = new Scanner(System.in);
		int[] prio = new int[3];
		int perNum;
		
		String []line = sc.nextLine().split(" ");
		for(int i = 0; i < 3; i++) {
			prio[i] = Integer.parseInt(line[i]);
		}
		perNum = sc.nextInt();
		sc.nextLine();
		
		String[][] person = new String[perNum][3];
		int[][] prioPer = new int[perNum][3];
		
		for(int i = 0; i < perNum; i++) {
			String []perOne = sc.nextLine().split(" ");
			person[i] = perOne;
			//성별
			if(perOne[0].equals("M")) {
				prioPer[i][0] = 1;
			}else if(perOne[0].equals("F")) {
				prioPer[i][0] = 2;
			}
			//나이
			int age = Integer.parseInt(perOne[1]);
			int agePrio = 1;
			if(age <= 7) {
				for(int j = 0; j < i; j++) {
					if(Integer.parseInt(person[j][1]) < age) {
						prioPer[j][1]++;
					}else {
						agePrio++;
					}
				}
				prioPer[i][1] = agePrio;
			}else{
				for(int j = 0; j < i; j++) {
					if(Integer.parseInt(person[j][1]) <= 7) {
						prioPer[j][1]++;
					}else if(Integer.parseInt(person[j][1]) < age) {
						agePrio++;
					}else {
						prioPer[j][1]++;
					}
				}
				prioPer[i][1] = agePrio;
			}
			//조건
			if(perOne.length == 3) {
				String iff = perOne[2];
				int ifpro = 1;
				for(int j = 0; j < i; j++) {
					if(person[j][2].equals(iff)) {
						
					}else if(person[j][2].equals("PW")) {
						prioPer[j][2]++;
					}else if(person[j][2].equals("DP")) {
						if(iff.equals("PW")) {
							ifpro++;
						}else {
							prioPer[j][2]++;
						}
					}else if(person[j][2].equals("P")) {
						ifpro++;
					}else {
						
					}
				}
				prioPer[i][2] = ifpro;
			}
		}
		
		/*
		for(int i = 0; i < 3; i++) {
			if( prio[i] == 1) {//성별 
				for(int j = 0; j < perNum-1; j++) {
					String []temp = new String[3];
					if(person[j][0].equals("M")) {
						temp = person[j];
						person[j] = person[j+1];
						person[j+1] = temp;
					}
				}
			}else if(prio[i] == 2) {//나이 
				
			}else if(prio[i] == 3) { //조건 
				
				
			}
		}*/
		
		for(int i = 0; i < perNum; i++) {
			System.out.println(prioPer[i][0] + " " + prioPer[i][1] + " " + prioPer[i][2]);
		}
		/*
		for(int i = 0; i < perNum; i++) {
			for(int j = 0; j < person[i].length; j++) {
				System.out.print(person[i][j] + " ");
			}
			System.out.println();
		}*/
		
	}

}
